<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>POS Dash</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="~/POS/images/favicon.ico" asp-append-version="true"/>
    <link rel="stylesheet" href="~/POS/css/backend-plugin.min.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/POS/css/backend.css?v=1.0.0" asp-append-version="true"/>
    <link rel="stylesheet" href="@("~/POS/vendor/@fortawesome/fontawesome-free/css/all.min.css")" asp-append-version="true"/>
    <link rel="stylesheet" href="~/POS/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css" asp-append-version="true"/>
    <link rel="stylesheet" href="~/POS/vendor/remixicon/fonts/remixicon.css" asp-append-version="true"/>
    <link href="https://cdn.datatables.net/v/bs4/dt-2.1.8/datatables.min.css" rel="stylesheet" asp-append-version="true"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" asp-append-version="true"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
</head>

<body class="  ">
    <!-- loader Start -->
    <div id="loading">
        <div id="loading-center">
        </div>
    </div>
    <!-- loader END -->
    <!-- Wrapper Start -->
    <div class="wrapper">
        <div class="iq-sidebar  sidebar-default ">
            <div class="iq-sidebar-logo d-flex align-items-center justify-content-between">
                <a asp-area="POS" asp-controller="Dashboard" asp-action="Index" class="header-logo">
                    <img src="~/POS/images/logo.png" class="img-fluid rounded-normal light-logo" alt="logo">
                    <h5 class="logo-title light-logo ml-3">POSDash</h5>
                </a>
                <div class="iq-menu-bt-sidebar" style="margin-left: 12px">
                    <i class="las la-bars wrapper-menu"></i>
                </div>
            </div>
            <div class="data-scrollbar" data-scroll="1">
                <!--CHỖ NÀY CODE MENU-->
                <nav class="iq-sidebar-menu">
                    <ul id="iq-sidebar-toggle" class="iq-menu">
                        <li class="active">
                            <a asp-area="POS" asp-controller="Dashboard" asp-action="Index" class="svg-icon">
                                <svg class="svg-icon" id="p-dash1" width="20" height="20"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path
                                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                                    </path>
                                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                    <line x1="12" y1="22.08" x2="12" y2="12"></line>
                                </svg>
                                <span class="ml-4">Dashboards</span>
                            </a>
                        </li>
                        <li>
                            <a asp-area="POS" asp-controller="POS" asp-action="Index" class="svg-icon">
                                <svg class="svg-icon" id="p-dash5" width="20" height="20"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg>
                                <span class="ml-4">POS</span>
                            </a>
                        </li>
                        <li>
                            <a asp-area="POS" asp-controller="Customer" asp-action="Index" class="svg-icon">
                                <svg class="svg-icon" id="p-dash8" width="20" height="20"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                </svg>
                                <span class="ml-4">Customers</span>
                            </a>
                        </li>
                        <li>
                            <a asp-area="POS" asp-controller="Product" asp-action="Index" class="svg-icon">
                                <svg class="svg-icon" id="p-dash2" width="20" height="20"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="9" cy="21" r="1"></circle>
                                    <circle cx="20" cy="21" r="1"></circle>
                                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                                </svg>
                                <span class="ml-4">Product</span>
                            </a>
                        </li>
                        <li>
                            <a asp-area="POS" asp-controller="Login" asp-action="Logout" id="logout" class="svg-icon">
                                <svg class="svg-icon" fill="#000000" height="20" width="20" version="1.1" id="Capa_1"
                                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                                    viewBox="0 0 384.971 384.971" xml:space="preserve">
                                    <g id="SVGRepo_bgCarrier" stroke="currentColor" stroke-width="2"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier">
                                        <g>
                                            <g id="Sign_Out">
                                                <path
                                                    d="M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03 C192.485,366.299,187.095,360.91,180.455,360.91z">
                                                </path>
                                                <path
                                                    d="M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279 c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179 c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z">
                                                </path>
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                                <span class="ml-4">Logout</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <div class="iq-top-navbar">
            <div class="iq-navbar-custom">
                <nav class="navbar navbar-expand-lg navbar-light p-0 align-items-center">
                    <div class="iq-navbar-logo d-flex align-items-center justify-content-between">
                        <i class="ri-menu-line wrapper-menu"></i>
                        <a href="/" class="header-logo">
                            <img src="~/POS/images/logo.png" class="img-fluid rounded-normal" alt="logo">
                            <h5 class="logo-title ml-3">POSDash</h5>

                        </a>
                    </div>
                    <div class="d-flex align-items-center mt-2">
                        <h4 class="p-3">Admin</h4>
                        <a href="/users/profile/">
                            <img id="user-profile" width="50" height="50" src="~/POS/images/user/1.png" class="img-fluid rounded" alt="user">
                        </a>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <div class="modal fade" id="new-order" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="popup text-left">
                        <h4 class="mb-3">New Order</h4>
                        <div class="content create-workform bg-body">
                            <div class="pb-3">
                                <label class="mb-2">Email</label>
                                <input type="text" class="form-control" placeholder="Enter Name or Email">
                            </div>
                            <div class="col-lg-12 mt-4">
                                <div class="d-flex flex-wrap align-items-ceter justify-content-center">
                                    <div class="btn btn-primary mr-4" data-dismiss="modal">Cancel</div>
                                    <div class="btn btn-outline-primary" data-dismiss="modal">Create</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-page">
        @RenderBody()
    </div>
    <!-- app JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="@("https://unpkg.com/currency.js@~2.0.4/dist/currency.min.js")"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
        integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="~/POS/js/backend-bundle.min.js"></script>
    <script src="~/POS/js/app.js"></script>
    <script>
        // Get the current path from the URL
        const fullPath = location.pathname;
        const path = fullPath.split('/POS/')[1];
        
        // Remove active class from all menu items
        $('#iq-sidebar-toggle li').removeClass('active');
        
        if (path) {
            // Try to find exact match first
            const exactMatch = $(`#iq-sidebar-toggle li a[href="${fullPath}"]`);
            if (exactMatch.length) {
                exactMatch.parent().addClass('active');
            } else {
                // Try to match by controller name
                const controller = path.split('/')[0];
                $(`#iq-sidebar-toggle li a[href^="/POS/${controller}"]`).first().parent().addClass('active');
            }
        } else {
            // If we're at the root POS path, activate Dashboard
            $(`#iq-sidebar-toggle li a[href^="/POS/Dashboard"]`).parent().addClass('active');
        }

        $('#logout').click((e) => {
            e.preventDefault()
            $.ajax({
                url: '@Url.Action("Logout", "Account", new { area = "Store" })',
                method: 'POST',
                success: () => {
                    location.href = '@Url.Action("Login", "Login", new { area = "POS" })'
                }
            })
        })

        $('#user-profile').click((e) => {
            e.preventDefault()
            location.href = '/users/profile/{{user._id}}'
        })

    </script>
  @RenderSection("Scripts", required: false)
</body>

</html>